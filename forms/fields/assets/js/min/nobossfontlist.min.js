var nobossfontlist={CONSTRUCTOR:function(){jQuery('[data-id="font_list_field"]').trigger("change"),jQuery(document).on("new-container-add subform-row-add",function(e,n){jQuery(n).find("[data-id=font_list_field]").each(function(){if(!0!==jQuery(this).data("activated")){nobossfontlist.addSlideEvent(this);var e=jQuery(this).closest(".control-group").parent(),n=jQuery(this).data("full-name");jQuery(this).on("change",nobossfontlist.fontSelectChange),e.find("[name="+n+"_font_style]").on("change",function(){nobossfontlist.updateHiddenFieldValue(n,e)}),e.find("[name="+n+"_font_external_url]").on("focusout",function(){nobossfontlist.updateHiddenFieldValue(n,e)}),nobossfontlist.updateHiddenFieldValue(n,e),jQuery(this).data("activated",!0)}}),jQuery(n).find("[data-id=font_list_field]").trigger("change")}),jQuery(document).trigger("new-container-add",jQuery("body"))},fontSelectChange:function(e){var l=this,n=jQuery(l).val(),t=jQuery(l).closest(".control-group").parent(),o=jQuery(l).data("full-name"),i=t.find("[name="+o+"_font_style]");t.find("[name="+o+"_font_external_url]");"external_linked"!=n&&"inherit"!=n?jQuery.ajax({url:"../administrator/index.php?option=com_nobossajax&library=noboss.forms.fields.nobossfontlist.nobossfontlist&method=loadFontStyles&format=raw",data:{fontName:n},type:"GET"}).done(function(e){var n=JSON.parse(e),t=i.val();i.empty(),jQuery.each(n,function(e,n){i.append('<option value="'+n+'" '+(t===n?"selected":"")+">"+n+"</option>")}),i.trigger("liszt:updated"),nobossfontlist.updateHiddenFieldValue(o,jQuery(l).closest(".control-group").parent())}):(i.val("Regular"),nobossfontlist.updateHiddenFieldValue(o,jQuery(l).closest(".control-group").parent()))},updateHiddenFieldValue:function(e,n){var t=jQuery(n).find("[data-full-name="+e+"][name$=_select_font_list]").val(),l=jQuery(n).find("[data-full-name="+e+"][name$=_font_external_url]").val(),o=jQuery(n).find("[data-full-name="+e+"][name$=_font_style]").val(),i={fontfamily:null==t?"":t,externalLinked:null==l?"":l,fontStyle:null==o?"":o};jQuery(n).find("[data-full-name="+e+"][type=hidden]").val(JSON.stringify(i))},addSlideEvent:function(e){jQuery(e).on("change",function(){if("inherit"!==jQuery(this).val()){var e=jQuery(this).closest(".control-group").next(),n=e.next();"external_linked"===jQuery(this).val()?(n.is(":visible")&&n.slideUp(),e.slideDown()):(e.is(":visible")&&e.slideUp(),n.slideDown())}else jQuery(this).closest(".control-group").nextAll(":lt(2)").slideUp()})}};jQuery(document).ready(function(n){$=n;var e=[].map(function(e){return"js"===e.slice(-2)&&0===n("script[src*='"+e.slice(-30)+"']").length?n("head").append('<script type="text/javascript" src="'+e+'"><\/script>'):"css"===e.slice(-3)&&0===n("link[href*='"+e.slice(-30)+"']").length?n("head").append('<link rel="stylesheet" href="'+e+'"/>'):void 0});n.when.apply(null,e).done(function(){nobossfontlist.CONSTRUCTOR()})});