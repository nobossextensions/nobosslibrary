if(!util)var util={};util.subformRowAddListener=function(){var t=!0;t&&(jQuery(document).on("subform-row-add",function(t,e){jQuery(e).find("select").chosen({disable_search_threshold:10}),jQuery.fn.popover&&$(e).find(".hasPopover").popover({trigger:"hover focus"}),jQuery(document).contents().find("[data-target*='functions-modal-subform']").remove(),util.activateYesno($(e)),util.activateClockpicker($(e)),util.activateModalModule($(e)),util.activateModalArticle($(e)),util.activateModalMenu($(e))}),t=!1)},util.activateYesno=function(t){t.find(".radio.btn-group label").addClass("btn"),t.find("fieldset.btn-group").each(function(){jQuery(this).prop("disabled")&&(jQuery(this).css("pointer-events","none").off("click"),jQuery(this).find(".btn").addClass("disabled"))}),t.find(".btn-group label:not(.active)").click(function(){var t=jQuery(this),e=jQuery("#"+t.attr("for"));e.prop("checked")||(t.closest(".btn-group").find("label").removeClass("active btn-success btn-danger btn-primary"),""===e.val()?t.addClass("active btn-primary"):"0"===e.val()?t.addClass("active btn-danger"):t.addClass("active btn-success"),e.prop("checked",!0),e.trigger("change"))})},util.activateClockpicker=function(t){t.find("[data-id-clockpicker]").each(function(){jQuery(this).clockpicker()})},util.activateModalModule=function(t){t.find("a.editModule").each(function(){var i=jQuery(this).parent().find("select").attr("id"),e="modal_"+i;jQuery(this).attr("href","#"+e),jQuery(this).closest("[data-base-name]").find("[data-button-module-close]").parent().parent().attr("id",e).find(".modal-footer button.btn-primary").attr("onClick","jQuery('#"+e+" iframe').contents().find('#applyBtn').click()"),jQuery(function(t){t("#"+e).on("shown.bs.modal",function(){var t=jQuery("#"+i).val(),e=baseNameUrl+"administrator/index.php?option=com_modules&view=module&task=module.edit&layout=modal&tmpl=component&id="+t;jQuery(this).find(".modal-body").find("iframe").remove(),jQuery(this).find(".modal-body").prepend('<iframe class="iframe jviewport-height70" src="'+e+'" name="Editar mÃ³dulo" height="400px" width="800px"></iframe>')})})})},util.genericActionsModal=function(t,e,i,a,o,d){switch(t){case"article":typeHtml="Article";break;case"menu":typeHtml="Item";break;default:return}jQuery(e).closest(".control-group").find("label").attr("id",i+"_id-lbl").attr("for",i+"_id"),jQuery(e).closest(".controls").find('input[type="text"]').attr("id",i+"_name"),jQuery(e).closest(".controls").find("#"+i).attr("id",i+"_id");var n=jQuery(e).attr("id",i+"_name").attr("id",i+"_select").attr("data-target","#ModalSelect"+typeHtml+"_"+i),r=jQuery(e).closest(".controls").find("[data-target*='ModalNew"+typeHtml+"']").attr("id",i+"_new").attr("data-target","#ModalNew"+typeHtml+"_"+i),l=jQuery(e).closest(".controls").find("[data-target*='ModalEdit"+typeHtml+"']").attr("id",i+"_edit").attr("data-target","#ModalEdit"+typeHtml+"_"+i),c=jQuery(e).closest(".controls").find("[id*='_clear']").attr("id",i+"_clear").attr("onClick","window.processModalParent('"+i+"'); return false;");jQuery(e).closest(".controls").find("[id*='ModalSelect"+typeHtml+"']").attr("id","ModalSelect"+typeHtml+"_"+i),jQuery(e).closest(".controls").find("[id*='ModalNew"+typeHtml+"']").attr("id","ModalNew"+typeHtml+"_"+i),jQuery(e).closest(".controls").find("[id*='ModalEdit"+typeHtml+"']").attr("id","ModalEdit"+typeHtml+"_"+i),jQuery(e).closest(".controls").find(".modal-footer").find("[onClick*='cancel']").attr("onClick","window.processModalEdit(this, '"+i+"', 'add', '"+typeHtml.toLowerCase()+"', 'cancel', 'item-form'); return false;"),jQuery(e).closest(".controls").find(".modal-footer").find("[onClick*='save']").attr("onClick","window.processModalEdit(this, '"+i+"', 'add', '"+typeHtml.toLowerCase()+"', 'save', 'item-form'); return false;"),jQuery(e).closest(".controls").find(".modal-footer").find("[onClick*='apply']").attr("onClick","window.processModalEdit(this, '"+i+"', 'add', '"+typeHtml.toLowerCase()+"', 'apply', 'item-form'); return false;");var s="jSelect"+typeHtml+"_"+i;"menu"==t&&(s="jSelectMenu_"+i),jQuery(document).contents().find("head").append("<script data-id='functions-modal-subform'> function "+s+"(id, title, catid, object, url, language) { window.processModalSelect('"+typeHtml+"', '"+i+"', id, title, catid, object, url, language); } <\/script>"),util.adjustModalIframe("ModalSelect"+typeHtml+"_"+i,i,d),util.adjustModalIframe("ModalNew"+typeHtml+"_"+i,i,o),util.adjustModalIframe("ModalEdit"+typeHtml+"_"+i,i,a),jQuery(document).ready(function(t){setTimeout(function(){""!=jQuery("#"+i+"_id").val()&&jQuery(l).hasClass("hidden")&&(jQuery(n).addClass("hidden"),jQuery(r).addClass("hidden"),jQuery(l).removeClass("hidden"),jQuery(c).removeClass("hidden"),jQuery("#"+i+"_name").val(typeHtml+" ID "+jQuery("#"+i+"_id").val()))},500)})},util.adjustModalIframe=function(e,i,a){jQuery(document).ready(function(t){t("#"+e).on("shown.bs.modal",function(){var t=a;e.match(/ModalEdit/)&&(t=a+jQuery("#"+i+"_id").val()),jQuery(this).find(".modal-body").find("iframe").remove(),jQuery(this).find(".modal-body").prepend('<iframe class="iframe jviewport-height70" src="'+t+'" height="400px" width="800px"></iframe>')})})},util.activateModalArticle=function(t){t.find("[data-target*='ModalSelectArticle']").each(function(){var t=jQuery(this).parent().parent().find("input[type='hidden']").attr("id"),e=baseNameUrl+"administrator/index.php?option=com_content&view=article&layout=modal&tmpl=component&57590de4f8b37151f8815f5bdff139b4=1&task=article.edit&id=",i=baseNameUrl+"administrator/index.php?option=com_content&view=article&layout=modal&tmpl=component&57590de4f8b37151f8815f5bdff139b4=1&task=article.add",a=baseNameUrl+"administrator/index.php?option=com_content&view=articles&layout=modal&tmpl=component&57590de4f8b37151f8815f5bdff139b4=1&function=jSelectArticle_"+t;util.genericActionsModal("article",this,t,e,i,a)})},util.activateModalMenu=function(t){t.find("[data-target*='ModalSelectItem']").each(function(){var t=jQuery(this).parent().parent().find("input[type='hidden']").attr("id"),e=baseNameUrl+"administrator/index.php?option=com_menus&view=item&layout=modal&client_id=0&tmpl=component&0936722486b34d6072bcc00621a37810=1&task=item.edit&id=",i=baseNameUrl+"administrator/index.php?option=com_menus&view=item&layout=modal&client_id=0&tmpl=component&0936722486b34d6072bcc00621a37810=1&task=item.add",a=baseNameUrl+"administrator/index.php?option=com_menus&view=items&layout=modal&client_id=0&tmpl=component&0936722486b34d6072bcc00621a37810=1&function=jSelectMenu_"+t;util.genericActionsModal("menu",this,t,e,i,a)})},util.fixScripts=function(t){t.find('a[onclick*="jInsertFieldValue"]').each(function(){var t=jQuery(this),e=t.siblings('input[type="text"]').attr("id"),i=t.prev(),a=i.attr("href");t.attr("onclick","jInsertFieldValue('', '"+e+"');return false;"),i.attr("href",a.replace(/&fieldid=(.+)&/,"&fieldid="+e+"&"))}),jQuery.fn.fieldMedia&&t.find(".field-media-wrapper").fieldMedia(),jQuery.fn.popover&&t.find(".hasPopover").popover({trigger:"hover focus"}),jQuery.fn.fieldUser&&t.find(".field-user-wrapper").fieldUser(),window.Calendar&&(elements=t.find(".field-calendar"),elements.each(function(){JoomlaCalendar.init(this)})),window.nobosseditor&&(nobosseditor.addCssFileEditor(),t.find(".nb-editor .toggle-editor").each(function(){jQuery(this).find("a").attr("onClick","tinyMCE.execCommand('mceToggleEditor', false, '"+jQuery(this).parent().find("textarea").attr("id")+"'); return false")})),"undefined"!=typeof nobossdisplaymodelist&&nobossdisplaymodelist.CONSTRUCTOR()};